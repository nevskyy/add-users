(this["webpackJsonpproduct-storage"]=this["webpackJsonpproduct-storage"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(1),s=r.n(a),n=r(9),c=r.n(n),o=(r(14),r(8)),l=r(2),u=(r(15),r(16),r(0)),i=function(e){var t=e.users;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{className:"users",children:t.map((function(e,t){return Object(u.jsxs)("li",{className:"users__user",children:[Object(u.jsx)("img",{src:e.picture,alt:"user-img",className:"users__user__image"}),Object(u.jsxs)("h5",{className:"users__user__title",children:[e.title," ",e.firstName," ",e.lastName]})]},e.id)}))})})},d="https://dummyapi.io/data/v1/",m={"app-id":"6154537832884b1a024b2f3c","Content-Type":"application/json"},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fetch("".concat(d).concat(e,"?page=").concat(r,"&limit=15"),{method:t,headers:m}).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){return e.data}))},b=(r(18),function(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("div",{className:"spinner__content"})})}),f=(r(19),function(){return Object(u.jsx)("div",{className:"error",children:"Page is under construction!"})}),h=r(4),O=r(5),_=(r(20),function(e){var t=e.setShowPopUp,r=e.setUserDeployed;Object(a.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]);var s=Object(a.useState)({title:"",firstName:"",lastName:"",email:"",avatar:""}),n=Object(l.a)(s,2),c=n[0],o=n[1],i=Object(a.useState)({title:!1,firstName:!1,lastName:!1,email:!1,avatar:!1,onSubmit:!1}),j=Object(l.a)(i,2),b=j[0],f=j[1],_=/^(ftp|http|https|chrome|:\/\/|\.|@){2,}(localhost|[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}|(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*:[0-9A-Z_a-z]*@)*([A-Za-z]|([0-9]{1,3}|\.){7})+([0-9A-Z_a-z]|\.{2,}|\.[A-Za-z]{2,3}|\/|\?|&|:[0-9]|@|=|\/|\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\)|#|\x2D|%)*$/gm,p=function(e){var t=e.target,r=t.name,a=t.value;b[r]=!1,o(Object(O.a)(Object(O.a)({},c),{},Object(h.a)({},r,a)))},v=function(e){var t=e.target,r=t.name,a=t.value,s=!1;a.length||["title","avatar"].includes(r)?("email"===r&&function(e){var t=e.indexOf("@");if(t<1)return!0;var r=e.indexOf(".");return r<=t+2||r===e.length-1}(a)||"avatar"===r&&!a.match(_)&&a.length)&&(s=!0):s=!0,s&&f(Object(O.a)(Object(O.a)({},b),{},Object(h.a)({},r,!0)))},N=function(){o({title:"",firstName:"",lastName:"",email:"",avatar:""}),f({title:!1,firstName:!1,lastName:!1,email:!1,avatar:!1}),t(!1)};return Object(u.jsx)("div",{className:"popup-menu",onClick:function(e){return e.target===e.currentTarget&&N()},children:Object(u.jsxs)("form",{action:"submit",className:"add-user-form",onSubmit:function(e){e.preventDefault(),console.log(c);var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user/create",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",r=arguments.length>2?arguments[2]:void 0;return fetch("".concat(d).concat(e),{method:t,headers:m,body:JSON.stringify(r)}).then((function(e){return e})).catch((function(e){return e}))}(void 0,void 0,c).then((function(e){console.log(e,e.ok,typeof e.ok),r(e.ok)}));N(),t(!1),console.log(a),setTimeout((function(){r("")}),3e3)},children:[Object(u.jsxs)("div",{className:"add-user-form__wrapper",children:[Object(u.jsx)("label",{htmlFor:"title",className:"add-user-form__label",children:"Title:"}),Object(u.jsx)("select",{type:"text",name:"title",className:"add-user-form__input",onChange:p,value:c.title,onBlur:v,children:["","mr","mrs","ms","miss","dr"].map((function(e){return Object(u.jsx)("option",{children:e},e)}))}),Object(u.jsx)("h5",{className:"add-user-form__error",children:b.title?"Please enter title(mr, mrs, ms, miss, dr) or leave field empty":""})]}),Object(u.jsxs)("div",{className:"add-user-form__wrapper",children:[Object(u.jsx)("label",{htmlFor:"firstName",className:"add-user-form__label",children:"First Name*:"}),Object(u.jsx)("input",{type:"text",name:"firstName",className:"add-user-form__input",onChange:p,value:c.firstName,onBlur:v,style:b.firstName?{borderColor:"red"}:{borderColor:"grey"}}),Object(u.jsx)("h5",{className:"add-user-form__error",children:b.firstName?"You should enter the first name":""})]}),Object(u.jsxs)("div",{className:"add-user-form__wrapper",children:[Object(u.jsx)("label",{htmlFor:"lastName",className:"add-user-form__label",children:"Last Name*:"}),Object(u.jsx)("input",{type:"text",name:"lastName",className:"add-user-form__input",onChange:p,value:c.lastName,onBlur:v,style:b.lastName?{borderColor:"red"}:{borderColor:"grey"}}),Object(u.jsx)("h5",{className:"add-user-form__error",children:b.lastName?"You should enter the last name":""})]}),Object(u.jsxs)("div",{className:"add-user-form__wrapper",children:[Object(u.jsx)("label",{htmlFor:"email",className:"add-user-form__label",children:"E-mail*:"}),Object(u.jsx)("input",{type:"text",name:"email",className:"add-user-form__input",onChange:p,value:c.email,onBlur:v,style:b.email?{borderColor:"red"}:{borderColor:"grey"}}),Object(u.jsx)("h5",{className:"add-user-form__error",children:b.email?"You should enter correct email":""})]}),Object(u.jsxs)("div",{className:"add-user-form__wrapper",children:[Object(u.jsx)("label",{htmlFor:"avatar",className:"add-user-form__label",children:"Avatar:"}),Object(u.jsx)("input",{type:"text",name:"avatar",className:"add-user-form__input",onChange:p,value:c.avatar,onBlur:v,style:b.avatar?{borderColor:"red"}:{borderColor:"grey"}}),Object(u.jsx)("h5",{className:"add-user-form__error",children:b.avatar?"Enter correct url or leave fiel empty":""})]}),Object(u.jsx)("h6",{className:"add-user-form__mandatory-fields",children:"*Mandatory fields"}),Object(u.jsx)("button",{className:"add-user-form__button",disabled:!c.firstName||!c.lastName||!c.email||Object.values(b).includes(!0),children:"Add User"}),Object(u.jsx)("button",{className:"add-user-form__close-button",onClick:N,children:"\u2715"})]})})}),p=(r(21),function(e){var t=e.userDeployed;return""===t?"":t?Object(u.jsx)("div",{className:"user-deployed",children:"User well deployed on server !!!"}):Object(u.jsx)("div",{className:"user-deployed user-deployed__error",children:"Server Responce Error, please try again later"})});var v=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),r=t[0],s=t[1],n=Object(a.useState)([]),c=Object(l.a)(n,2),d=c[0],m=c[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),v=O[0],N=O[1],x=Object(a.useState)(!1),F=Object(l.a)(x,2),g=F[0],y=F[1],D=Object(a.useState)(""),C=Object(l.a)(D,2),E=C[0],S=C[1];return Object(a.useEffect)((function(){j().then((function(e){return m(e)})).catch((function(e){return N(!0)}))}),[]),Object(a.useEffect)((function(){j(void 0,void 0,r).then((function(e){m([].concat(Object(o.a)(d),Object(o.a)(e)))}))}),[r]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"controll-buttons",children:[Object(u.jsx)("button",{className:"controll-buttons__button controll-buttons__button--load-user",onClick:function(){return s(r+1)},name:"controll-buttons__load-user",children:"Load more users"}),Object(u.jsx)("button",{className:"controll-buttons__button controll-buttons__button--add-user",onClick:function(){return y(!0)},disabled:g,children:"Add user"})]})}),Object(u.jsxs)("main",{className:"main",children:[g&&Object(u.jsx)(_,{setShowPopUp:y,setUserDeployed:S}),!d.length&&!v&&Object(u.jsx)(b,{}),!!d.length&&Object(u.jsx)(i,{users:d}),v&&Object(u.jsx)(f,{}),Object(u.jsx)(p,{userDeployed:E})]})]})};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.790750a4.chunk.js.map